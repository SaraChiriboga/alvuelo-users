<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="AlVueloUsers.Views.SeleccionMesaPage"
             BackgroundColor="{StaticResource AlVueloBg}"
             NavigationPage.HasNavigationBar="False">

    <Grid RowDefinitions="*, Auto">

        <VerticalStackLayout Grid.Row="0" 
                             VerticalOptions="Center" 
                             HorizontalOptions="Center" 
                             Spacing="25"
                             Padding="30">

            <Image Source="table_dinner.png" HeightRequest="200" WidthRequest="200"/>

            <Label Text="¿En qué mesa estás?"
                   FontSize="24"
                   FontAttributes="Bold"
                   TextColor="#1a1a1a"
                   HorizontalTextAlignment="Center"/>

            <Label Text="Ingresa el número que ves en tu mesa"
                   FontSize="16"
                   TextColor="#666666"
                   HorizontalTextAlignment="Center"/>

            <Border Stroke="{StaticResource AlVueloRed}"
                    StrokeThickness="2"
                    StrokeShape="RoundRectangle 12"
                    BackgroundColor="#FAFAFA"
                    Padding="10,5"
                    WidthRequest="200"
                    HorizontalOptions="Center">
                <Entry x:Name="EntryNumeroMesa"
                       Placeholder="#"
                       PlaceholderColor="#CCCCCC"
                       TextColor="#1a1a1a"
                       FontSize="40"
                       FontAttributes="Bold"
                       HorizontalTextAlignment="Center"
                       Keyboard="Numeric"
                       MaxLength="3"
                       Completed="OnConfirmarClicked"/>
            </Border>

            <Label x:Name="LabelError"
                   Text="Mesa no válida u ocupada"
                   TextColor="Red"
                   FontSize="14"
                   HorizontalTextAlignment="Center"
                   IsVisible="False"
                   Opacity="0"/>

        </VerticalStackLayout>

        <Border Grid.Row="1" Padding="20,0,20,20" StrokeThickness="0">
            <Grid HeightRequest="50">

                <Button x:Name="BtnConfirmar"
                        Text="Confirmar Mesa"
                        BackgroundColor="{StaticResource AlVueloDarkRed}"
                        TextColor="White"
                        FontSize="17"
                        FontAttributes="Bold"
                        CornerRadius="12"
                        Clicked="OnConfirmarClicked"/>

                <ActivityIndicator x:Name="Spinner" 
                                   IsRunning="False" 
                                   IsVisible="False" 
                                   Color="White"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Center"
                                   InputTransparent="True"/>
            </Grid>
        </Border>

    </Grid>
</ContentPage>